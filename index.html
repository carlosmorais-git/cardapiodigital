<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Card√°pio ‚Äî Lanchonete</title>
    <link rel="icon" href="favicon.png" />

    <meta name="theme-color" content="#0b0c10" />

    <link rel="stylesheet" href="style/style.css" type="text/css" />
    <link rel="manifest" href="manifest.json" />

    <meta
      name="description"
      content="Card√°pio digital est√°tico com carrinho e envio do pedido via WhatsApp, com categorias, varia√ß√µes e acr√©scimos."
    />
  </head>
  <body>
    <header>
      <div class="brand container">
        <div  aria-hidden="true">
          <img src="./assets/clara_lanchonete_logo.png" width="50px" height="60px" class="logo_imagem"/>
        </div>
        <div>
          <div class="title">Clara Lanches</div>
          <div class="subtitle">Card√°pio digital ‚Äî pe√ßa pelo WhatsApp</div>
        </div>
      </div>
    </header>

    <main class="container">
      <nav class="tabs" id="tabs"></nav>

      <div class="grid" id="app">
        <section class="products" id="products">
          <div style="display: grid; gap: 14px" id="productList"></div>
        </section>
      </div>
    </main>

    <!-- FAB: bot√£o flutuante do carrinho -->
    <button class="fab" id="fabCart" >
      üõí Carrinho <span class="fab-badge" id="fabCount">0</span>
    </button>

    <!-- Modal de configura√ß√£o do item -->
    <dialog id="itemModal">
      <div class="modal-head">
        <strong id="mTitle">Adicionar item</strong>
        <button class="btn-outline" id="mClose">Fechar</button>
      </div>
      <div class="modal-body escolher">
        <div id="mDesc" style="color: var(--text-muted); font-size: 14px"></div>
        <div id="mVariantsBox" class="field" >
          <label >Varia√ß√£o / Prote√≠na</label>
          <div class="opt-row" id="mVariants"></div>
        </div>
        <div id="mAddonsBox" class="field" >
          <label>Acr√©scimos</label>
          <div id="mAddons" style="display: grid; gap: 8px"></div>
        </div>
        <div class="field">
          <label>Quantidade</label>
          <div class="qty">
            <button id="mMinus">‚àí</button><strong id="mQty">1</strong
            ><button id="mPlus">+</button>
          </div>
        </div>
        <div class="field">
          <label>Observa√ß√£o do item (opcional)</label>
          <input id="mNote" placeholder="Ex.: sem tomate" />
        </div>
        <div class="modal-actions">
          <div class="field">
            <div
              class="alinha-vertical"
            >
              <span style="color: var(--text-muted)">Total deste item</span>
              <strong id="mTotal">R$ 0,00</strong>
            </div>
            <div class="alinha-vertical">
              <button class="btn-outline" id="mCancel">Cancelar</button>
              <button class="btn btn-add" id="mAdd">Adicionar ao carrinho</button>
            </div>
          </div>
      </div>
    </dialog>

    <!-- Modal do CARRINHO (novo) -->
    <dialog id="cartModal">
      <div class="modal-head">
        <strong>Seu pedido</strong>
        <button class="btn-outline" id="cClose">Fechar</button>
      </div>
      <div
        class="modal-body"
        style="max-height: min(70vh, 600px); overflow: auto"
      >
        <div
          id="cartItems"
          class="cart-items"
          style="display: grid; gap: 10px"
        ></div>
        <div id="cartEmpty" class="footnote">Seu carrinho est√° vazio.</div>

        <div class="totals" id="totals" >
          <div class="line">
            <span>Subtotal</span><strong id="subtotal">R$ 0,00</strong>
          </div>
          <div class="line"><span>Taxas</span><span>R$ 0,00</span></div>
          <div class="line grand">
            <span>Total</span><span id="total">R$ 0,00</span>
          </div>
        </div>

        <div class="field">
          <details>
            <summary style="cursor: pointer; color: var(--text-muted)">
              Dados do cliente (opcional)
            </summary>
            <div class="field" style="margin-top: 10px">
              <label for="customerName">Seu nome</label>
              <input id="customerName" placeholder="Ex.: Carlos" />
            </div>
            <div class="field">
              <label for="delivery">Retirada ou Entrega?</label>
              <select id="delivery">
                <option value="Retirada">Retirada</option>
                <option value="Entrega">Entrega</option>
              </select>
            </div>
            <div class="field" id="addressField" >
              <label for="address">Endere√ßo p/ entrega</label>
              <input
                id="address"
                placeholder="Rua, n√∫mero, bairro (refer√™ncia)"
              />
            </div>
            <div class="field">
              <label for="notes">Observa√ß√µes gerais</label>
              <textarea
                id="notes"
                rows="2"
                placeholder="Ex.: Sem cebola, maionese √† parte..."
              ></textarea>
            </div>
          </details>
        </div>
      </div>
      <div class="modal-actions" style="display: grid; gap: 8px">
        <button class="btn-primary" id="finish">
          Finalizar pedido no WhatsApp
        </button>
        <button class="btn-outline" id="clear">Limpar carrinho</button>
        <div class="footnote">
          Ao finalizar, voc√™ ser√° redirecionado para o WhatsApp com o pedido
          formatado.
        </div>
      </div>
    </dialog>

    <!-- Modal de CONFIRMA√á√ÉO (gen√©rico) -->
    <dialog id="confirmModal">
      <div class="modal-head">
        <strong>Confirma√ß√£o</strong>
        <button class="btn-outline" id="confirmClose">Fechar</button>
      </div>
      <div class="modal-body">
        <p id="confirmMsg" style="margin: 0"></p>
      </div>
      <div class="modal-actions">
        <button class="btn-outline" id="confirmNo">Cancelar</button>
        <button class="btn btn-add" id="confirmYes">Confirmar</button>
      </div>
    </dialog>

    <script src="scripts/data.js"></script>
    <script src="scripts/script.js"></script>
  </body>
</html>
